namespace = suelg_spawn_archeology

# Calculate the chance for an Archaeological site and spawn
planet_event = {
    id = suelg_spawn_archeology.1
    hide_window = yes
    is_triggered_only = yes

	immediate = {
		suelg_calculate_archeology_factor = yes

		event_target:t_owner = {
			random_owned_leader = {
				limit = {
					is_councilor = yes
					is_councilor_type = councilor_eager_explorers
				}
				event_target:t_planet = {
					change_variable = { which = suelg_archeology_ch_mod value = 0.05 }
				}
			}
		}

		random_list = {
			0 = {
				modifier = {
					add = @suelg_archelogy_spawn_base_weight
				}
				modifier = {
					factor = this.suelg_archeology_ch_mod
				}

				create_archaeological_site = random
			}
			0 = {
				modifier = {
					add = @suelg_archelogy_fail_base_weight
				}
			}
		}
		clear_variable = suelg_archeology_ch_mod
	}
}